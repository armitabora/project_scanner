document.addEventListener("DOMContentLoaded", function() {
    
    console.log("Website Vulnerability Scanner is ready!");
});
function updateProgress() {
    fetch('/progress')
        .then(response => response.json())
        .then(data => {
            const progressBar = document.getElementById('progressBar');
            const status = document.getElementById('status');
            const loadingSpinner = document.getElementById('loadingSpinner');

            progressBar.style.transition = "width 0.5s ease-in-out";
            progressBar.style.width = data.progress + '%';
            progressBar.innerText = data.progress + '%';
            status.innerText = data.progress < 100 ? "Scanning..." : "Scan complete! Redirecting...";

            if (data.progress >= 100) {
                loadingSpinner.style.display = "none"; 
                setTimeout(() => {
                    window.location.href = '/results';
                }, 1000);
            } else {
                setTimeout(updateProgress, 1000);  // Update every second
            }
        });
}